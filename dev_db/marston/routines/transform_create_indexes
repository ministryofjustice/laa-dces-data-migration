DO $$
DECLARE
    index_name TEXT;
    create_command TEXT;
BEGIN
    FOR index_name, create_command IN 
        SELECT unnest(ARRAY[
            'idx_laacases_caseid', 'idx_laacases_casenumber', 'idx_laacasedetails_caseid', 'idx_laacasedetails_casenumber',
            'idx_laacasedetails_clientcasereference', 'idx_laacasedetails_clientdefaulterreference', 'idx_laadefaulters_caseid',
            'idx_laadefaulters_casenumber', 'idx_laadefaultersphones_caseid', 'idx_laadefaultersphones_casenumber',
            'idx_laadefaultersemails_caseid', 'idx_laadefaultersemails_casenumber', 'idx_laadefaulterscontactaddresses_caseid',
            'idx_laadefaulterscontactaddresses_casenumber', 'idx_laadefaultersphonesaudit_caseid', 'idx_laadefaultersphonesaudit_casenumber',
            'idx_laadefaultersemailsaudit_caseid', 'idx_laadefaultersemailsaudit_casenumber', 'idx_laadefaulterscontactaddressesaudit_caseid',
            'idx_laadefaulterscontactaddressesaudit_casenumber', 'idx_laacasecharges_caseid', 'idx_laacasecharges_casenumber',
            'idx_laacasepayments_caseid', 'idx_laacasepayments_casenumber', 'idx_laacaseassignments_caseid', 'idx_laacaseassignments_casenumber',
            'idx_laacaseholds_caseid', 'idx_laacaseholds_casenumber', 'idx_laacaseholds_holdrecordid', 'idx_laacasearrangements_caseid',
            'idx_laacasearrangements_casenumber', 'idx_laacasevisits_caseid', 'idx_laacasevisits_casenumber', 'idx_laacaseadditionaldata_caseid',
            'idx_laacaseadditionaldata_casenumber', 'idx_laacaseattachments_caseid', 'idx_laacaseattachments_casenumber',
            'idx_laacaselinks_caseid', 'idx_laacaselinks_casenumber', 'idx_laacasenotes_caseid', 'idx_laacasenotes_casenumber',
            'idx_laacasenotes_casenotesrecordid', 'idx_laacasehistory_caseid', 'idx_laacasehistory_casenumber',
            'idx_laacasecalllog_caseid', 'idx_laacasecalllog_casenumber', 'idx_laacasebalance_caseid', 'idx_laacasebalance_casenumber',
            'idx_laacaserefunds_caseid', 'idx_laacaserefunds_casenumber', 'idx_laadefaulterswelfare_caseid', 'idx_laadefaulterswelfare_casenumber',
            'idx_laacasestatus_caseid', 'idx_laacasestatus_casenumber', 'idx_laalacescases_lacescaseid', 'idx_laalacesdatawarehouse_lacescaseid',
            'idx_laalacesdatawarehouse_maatid', 'idx_laalacescasesactions_lacescaseid', 'idx_laalacesexperianentries_lacescaseid',
            'idx_laalacesexperianentries_recordid', 'idx_laalacesproperties_lacescaseid', 'idx_laalacesproperties_recordid',
            'idx_laalacesexperianmortgageentries_recordid', 'idx_laalacesexperianassociations_ExperianAssociationsRecordID',
            'idx_laalacesexperianassociations_ExperianEntriesRecordID', 'idx_laalaceslandregistryentries_recordid',
            'idx_laalaceslandregistryassociations_recordid', 'idx_laalacesaudit_auditid', 'idx_laalacesaudit_rowid',
            'idx_lacesduplicates_caseid'
        ]),
        unnest(ARRAY[
            'CREATE INDEX IF NOT EXISTS idx_laacases_caseid ON transform.LAACases (caseid)',
            'CREATE INDEX IF NOT EXISTS idx_laacases_casenumber ON transform.LAACases (casenumber)',
            'CREATE INDEX IF NOT EXISTS idx_laacasedetails_caseid ON transform.LAACaseDetails (caseid)',
            'CREATE INDEX IF NOT EXISTS idx_laacasedetails_casenumber ON transform.LAACaseDetails (casenumber)',
            'CREATE INDEX IF NOT EXISTS idx_laacasedetails_clientcasereference ON transform.LAACaseDetails (clientcasereference)',
            'CREATE INDEX IF NOT EXISTS idx_laacasedetails_clientdefaulterreference ON transform.LAACaseDetails (clientdefaulterreference)',
            'CREATE INDEX IF NOT EXISTS idx_laadefaulters_caseid ON transform.LAADefaulters (caseid)',
            'CREATE INDEX IF NOT EXISTS idx_laadefaulters_casenumber ON transform.LAADefaulters (casenumber)',
            'CREATE INDEX IF NOT EXISTS idx_laadefaultersphones_caseid ON transform.LAADefaultersPhones (caseid)',
            'CREATE INDEX IF NOT EXISTS idx_laadefaultersphones_casenumber ON transform.LAADefaultersPhones (casenumber)',
            'CREATE INDEX IF NOT EXISTS idx_laadefaultersemails_caseid ON transform.LAADefaultersEMails (caseid)',
            'CREATE INDEX IF NOT EXISTS idx_laadefaultersemails_casenumber ON transform.LAADefaultersEMails (casenumber)',
            'CREATE INDEX IF NOT EXISTS idx_laadefaulterscontactaddresses_caseid ON transform.LAADefaultersContactAddresses (caseid)',
            'CREATE INDEX IF NOT EXISTS idx_laadefaulterscontactaddresses_casenumber ON transform.LAADefaultersContactAddresses (casenumber)',
            'CREATE INDEX IF NOT EXISTS idx_laadefaultersphonesaudit_caseid ON transform.LAADefaultersPhonesAudit (caseid)',
            'CREATE INDEX IF NOT EXISTS idx_laadefaultersphonesaudit_casenumber ON transform.LAADefaultersPhonesAudit (casenumber)',
            'CREATE INDEX IF NOT EXISTS idx_laadefaultersemailsaudit_caseid ON transform.LAADefaultersEMailsAudit (caseid)',
            'CREATE INDEX IF NOT EXISTS idx_laadefaultersemailsaudit_casenumber ON transform.LAADefaultersEMailsAudit (casenumber)',
            'CREATE INDEX IF NOT EXISTS idx_laadefaulterscontactaddressesaudit_caseid ON transform.LAADefaultersContactAddressesAudit (caseid)',
            'CREATE INDEX IF NOT EXISTS idx_laadefaulterscontactaddressesaudit_casenumber ON transform.LAADefaultersContactAddressesAudit (casenumber)',
            'CREATE INDEX IF NOT EXISTS idx_laacasecharges_caseid ON transform.LAACaseCharges (caseid)',
            'CREATE INDEX IF NOT EXISTS idx_laacasecharges_casenumber ON transform.LAACaseCharges (casenumber)',
            'CREATE INDEX IF NOT EXISTS idx_laacasepayments_caseid ON transform.LAACasePayments (caseid)',
            'CREATE INDEX IF NOT EXISTS idx_laacasepayments_casenumber ON transform.LAACasePayments (casenumber)',
            'CREATE INDEX IF NOT EXISTS idx_laacaseassignments_caseid ON transform.LAACaseAssignments (caseid)',
            'CREATE INDEX IF NOT EXISTS idx_laacaseassignments_casenumber ON transform.LAACaseAssignments (casenumber)',
            'CREATE INDEX IF NOT EXISTS idx_laacaseholds_caseid ON transform.LAACaseHolds (caseid)',
            'CREATE INDEX IF NOT EXISTS idx_laacaseholds_casenumber ON transform.LAACaseHolds (casenumber)',
            'CREATE INDEX IF NOT EXISTS idx_laacaseholds_holdrecordid ON transform.LAACaseHolds (holdrecordid)',
            'CREATE INDEX IF NOT EXISTS idx_laacasearrangements_caseid ON transform.LAACaseArrangements (caseid)',
            'CREATE INDEX IF NOT EXISTS idx_laacasearrangements_casenumber ON transform.LAACaseArrangements (casenumber)',
            'CREATE INDEX IF NOT EXISTS idx_laacasevisits_caseid ON transform.LAACaseVisits (caseid)',
            'CREATE INDEX IF NOT EXISTS idx_laacasevisits_casenumber ON transform.LAACaseVisits (casenumber)',
            'CREATE INDEX IF NOT EXISTS idx_laacaseadditionaldata_caseid ON transform.LAACaseAdditionalData (caseid)',
            'CREATE INDEX IF NOT EXISTS idx_laacaseadditionaldata_casenumber ON transform.LAACaseAdditionalData (casenumber)',
            'CREATE INDEX IF NOT EXISTS idx_laacaseattachments_caseid ON transform.LAACaseAttachments (caseid)',
            'CREATE INDEX IF NOT EXISTS idx_laacaseattachments_casenumber ON transform.LAACaseAttachments (casenumber)',
            'CREATE INDEX IF NOT EXISTS idx_laacaselinks_caseid ON transform.LAACaseLinks (caseid)',
            'CREATE INDEX IF NOT EXISTS idx_laacaselinks_casenumber ON transform.LAACaseLinks (casenumber)',
            'CREATE INDEX IF NOT EXISTS idx_laacasenotes_caseid ON transform.LAACaseNotes (caseid)',
            'CREATE INDEX IF NOT EXISTS idx_laacasenotes_casenumber ON transform.LAACaseNotes (casenumber)',
            'CREATE INDEX IF NOT EXISTS idx_laacasenotes_casenotesrecordid ON transform.LAACaseNotes (casenotesrecordid)',
            'CREATE INDEX IF NOT EXISTS idx_laacasehistory_caseid ON transform.LAACaseHistory (caseid)',
            'CREATE INDEX IF NOT EXISTS idx_laacasehistory_casenumber ON transform.LAACaseHistory (casenumber)',
            'CREATE INDEX IF NOT EXISTS idx_laacasecalllog_caseid ON transform.LAACaseCallLog (caseid)',
            'CREATE INDEX IF NOT EXISTS idx_laacasecalllog_casenumber ON transform.LAACaseCallLog (casenumber)',
            'CREATE INDEX IF NOT EXISTS idx_laacasebalance_caseid ON transform.LAACaseBalance (caseid)',
            'CREATE INDEX IF NOT EXISTS idx_laacasebalance_casenumber ON transform.LAACaseBalance (casenumber)',
            'CREATE INDEX IF NOT EXISTS idx_laacaserefunds_caseid ON transform.LAACaseRefunds (caseid)',
            'CREATE INDEX IF NOT EXISTS idx_laacaserefunds_casenumber ON transform.LAACaseRefunds (casenumber)',
            'CREATE INDEX IF NOT EXISTS idx_laadefaulterswelfare_caseid ON transform.LAADefaultersWelfare (caseid)',
            'CREATE INDEX IF NOT EXISTS idx_laadefaulterswelfare_casenumber ON transform.LAADefaultersWelfare (casenumber)',
            'CREATE INDEX IF NOT EXISTS idx_laacasestatus_caseid ON transform.LAACaseStatus (caseid)',
            'CREATE INDEX IF NOT EXISTS idx_laacasestatus_casenumber ON transform.LAACaseStatus (casenumber)',
            'CREATE INDEX IF NOT EXISTS idx_laalacescases_lacescaseid ON transform.LAALACESCases (lacescaseid)',
            'CREATE INDEX IF NOT EXISTS idx_laalacesdatawarehouse_lacescaseid ON transform.LAALACESDatawarehouse (lacescaseid)',
            'CREATE INDEX IF NOT EXISTS idx_laalacesdatawarehouse_maatid ON transform.LAALACESDatawarehouse (maatid)',
            'CREATE INDEX IF NOT EXISTS idx_laalacescasesactions_lacescaseid ON transform.LAALACESCasesActions (lacescaseid)',
            'CREATE INDEX IF NOT EXISTS idx_laalacesexperianentries_lacescaseid ON transform.LAALACESExperianEntries (lacescaseid)',
            'CREATE INDEX IF NOT EXISTS idx_laalacesexperianentries_recordid ON transform.LAALACESExperianEntries (recordid)',
            'CREATE INDEX IF NOT EXISTS idx_laalacesproperties_lacescaseid ON transform.LAALACESProperties (lacescaseid)',
            'CREATE INDEX IF NOT EXISTS idx_laalacesproperties_recordid ON transform.LAALACESProperties (recordid)',
            'CREATE INDEX IF NOT EXISTS idx_laalacesexperianmortgageentries_recordid ON transform.LAALACESExperianMortgageEntries (recordid)',
            'CREATE INDEX IF NOT EXISTS idx_laalacesexperianassociations_ExperianAssociationsRecordID ON transform.LAALACESExperianAssociations (ExperianAssociationsRecordID)',
            'CREATE INDEX IF NOT EXISTS idx_laalacesexperianassociations_ExperianEntriesRecordID ON transform.LAALACESExperianAssociations (ExperianEntriesRecordID)',
            'CREATE INDEX IF NOT EXISTS idx_laalaceslandregistryentries_recordid ON transform.LAALACESLandRegistryEntries (recordid)',
            'CREATE INDEX IF NOT EXISTS idx_laalaceslandregistryassociations_recordid ON transform.LAALACESLandRegistryAssociations (recordid)',
            'CREATE INDEX IF NOT EXISTS idx_laalacesaudit_auditid ON transform.LAALACESAudit (auditid)',
            'CREATE INDEX IF NOT EXISTS idx_laalacesaudit_rowid ON transform.LAALACESAudit (rowid)',
            'CREATE INDEX IF NOT EXISTS idx_maat_outcomesodfdc_maatid ON transform.maat_outcomesodfdc (maatid)',
            'CREATE INDEX IF NOT EXISTS idx_maat_defendantdetails_maatid ON transform.maat_defendantdetails (maatid)',
            'CREATE INDEX IF NOT EXISTS idx_maat_defendantdetails_applicantid ON transform.maat_defendantdetails (applicantid)',
            'CREATE INDEX IF NOT EXISTS idx_lacesduplicates_caseid ON transform.lacesduplicates (caseid)'
        ])
    LOOP
        -- Create index if it does not exist
        EXECUTE create_command;
    END LOOP;
END $$;
